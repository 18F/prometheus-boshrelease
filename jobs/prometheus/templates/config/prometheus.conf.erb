# Example of how to do one thing when job is master/leader, and another thing if its follower/slave
# See templates/infrastructure-warden.yml & templates/jobs.yml for where this value originates
# Global default settings.
global: {
  scrape_interval: "15s"     # By default, scrape targets every 15 seconds.
  evaluation_interval: "15s" # By default, evaluate rules every 15 seconds.

  # Attach these extra labels to all time series collected by this Prometheus instance.
  labels: {
    label: {
      name: "monitor"
      value: "prometheus"
    }
  }
}

# A job definition containing exactly one endpoint to scrape: Prometheus itself.
job: {
  # The job name is added as a label `job={job-name}` to any time series scraped from this job.
  name: "prometheus"
  # Override the global default and scrape targets from this job every 5 seconds.
  scrape_interval: "5s"

  # Let's define a group of static targets to scrape for this job. In this
  # case, only one.
  target_group: {
    # These endpoints are scraped via HTTP.
    target: "http://localhost:9090/metrics"
  }
}

job: {
	name: "consul"
	scrape_interval: "15s"
	target_group: {
		target: "http://localhost:9107/metrics"
	}
}

job: {
	name: "statsd"
	scrape_interval: "15s"
	target_group: {
		target: "http://localhost:9102/metrics"
	}
}

job: {
	name: "nodes"
	scrape_interval: "30s"
	target_group: {
		target: "http://localhost:9100/metrics"
	}
}
